缓存使用要注意的问题
	当缓存使用不当时，可能会导致请求瞬间打到 db ，db 扛不住挂掉。
	常见的有以下三种问题。



### 1  缓存穿透

​	概念说明：指  缓存 和 db 中都没有数据，读完  缓存 没有，再读 db 还是没有，每次都请求到  缓存 和 db。
​	解决方法：

a). 拦截非法请求，比如不正常的 id 请求直接拒绝。
	b). 没有数据时也  缓存 下，过期时间可设置短点，不把过多请求打到 db 去。
	c). 使用 Write Behind Caching 模式，命中不了  缓存 不读取 db。这时需要注意要使用的  缓存 的大小，要缓存太多数据可能不合适。
	d) 采用布隆过滤器，不存在的key直接过滤；布隆过滤器判断存在，不一定是真存在，但如果判断不在里面一定是不存在。
	一般建议用前两种，实现起来比较简单。

### 2  缓存击穿

概念说明：一般是少量热点数据过期（比如微博热搜数据），导致大量请求查  缓存 没有，又查 db。
解决方法：
	a) 热点key永不过期，异步更新。
	b) 更新热点key时加锁，同一个key最好只有一个请求打到 db。
	c) 接口限流，熔断、降级。

### 3  缓存雪崩

概念说明：大量  缓存 数据同时过期，导致大量请求打到 db。
解决方法：
	a) 热点key永不过期，异步更新。
	b) 防止同时大量数据过期， 缓存 过期时间随机抖动下。	